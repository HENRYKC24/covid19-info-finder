(this["webpackJsonpcovid19-info-finder"]=this["webpackJsonpcovid19-info-finder"]||[]).push([[0],{45:function(e,a,t){},46:function(e,a,t){"use strict";t.r(a);var c=t(2),n=t.n(c),s=t(15),r=t.n(s),o=t(4),i=t(8),l=t(18),d=t(27),j=t.n(d),b=t(28),u=t(11),m=t.n(u),h=t(16),O={covid19Data:[]},x="covid19_info_finder/covid19/FETCH_DATA",g="covid19_info_finder/covid19/FILTER_STATE",f=function(e){return{type:x,payload:e}},y=function(e){return function(){var a=Object(h.a)(m.a.mark((function a(t){var c,n,s,r,o,i,l,d,j,b,u,h,O,x,g,y,v,p,N,w;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=new Date,n={year:c.getFullYear(),month:c.getMonth()+1,date:c.getDate()},s=n.year,r=1===n.month.toString().length?"0".concat(n.month):n.month,o=1===n.date.toString().length?"0".concat(n.date):n.date,i="".concat(s,"-").concat(r,"-").concat(o),l="https://api.covid19tracking.narrativa.com/api/".concat(e||i),a.next=10,fetch(l);case 10:return d=a.sent,a.next=13,d.json();case 13:j=a.sent,b=Object.values(j.dates[e||i].countries),t(f(b)),a.next=35;break;case 18:return a.prev=18,a.t0=a.catch(0),u=new Date,h={year:u.getFullYear(),month:u.getMonth()+1,date:u.getDate()-1},O=h.year,x=1===h.month.toString().length?"0".concat(h.month):h.month,g=1===h.date.toString().length?"0".concat(h.date):h.date,y="".concat(O,"-").concat(x,"-").concat(g),v="https://api.covid19tracking.narrativa.com/api/".concat(e||y),a.next=29,fetch(v);case 29:return p=a.sent,a.next=32,p.json();case 32:N=a.sent,w=Object.values(N.dates[e||y].countries),t(f(w));case 35:case"end":return a.stop()}}),a,null,[[0,18]])})));return function(e){return a.apply(this,arguments)}}()},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0,t=a.type,c=a.payload;switch(t){case x:case g:return c;default:return e}},p="covid19_info_finder/covid19/FETCH_FLAGS",N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0,t=a.type,c=a.payload;return t===p?c:e},w=Object(l.b)({covid19Data:v,nationalFlags:N}),_=Object(l.c)(w,Object(l.a)(j.a,b.a)),S=t(3),D=t(30),C=t(12),T=t(47),k=t(9),A=t.p+"static/media/no_flag.2e6536d2.png",L=t(1),R=function(e){var a=e.className,t=e.id,c=Object(o.c)((function(e){return e.covid19Data})).filter((function(e){return e.id===t}))[0],n=Object(o.c)((function(e){return e.nationalFlags})),s=Array.isArray(n)?n.filter((function(e){var a=c.name?c.name.toLowerCase().split(" ").join(""):"",t=e.country.toLowerCase().split(" ").join("");return"us"===t.slice(0,2)&&"us"===a||("uniteda"===a.slice(0,7)&&"uae"===t||("unitedk"===a.slice(0,7)&&"uk"===t||("korea,s"===a.slice(0,7)&&"s.korea"===t||("bosniaa"===a.slice(0,7)&&"bosnia"===t||("burm"===a.substr(a.indexOf("burm"),4)&&"burm"===t||a===t)))))})):[{flagURL:"https://img.etimg.com/thumb/msid-76340801,width-650,imgsize-389237,,resizemode-4,quality-100/coronavirus-vaccine-antibodies1_istock.jpg"}];return Object(L.jsx)(i.b,{to:{pathname:"/country/".concat(c.name.toLowerCase()),data:c,flag:s[0]?s[0].flagURL:A},className:a,exact:!0,children:Object(L.jsxs)("div",{className:a,children:[Object(L.jsx)("img",{className:"flag",src:s[0]?s[0].flagURL:A,alt:"flag"}),Object(L.jsx)("span",{className:"arrow",children:Object(L.jsx)(k.b,{className:"fa-arrow"})}),Object(L.jsxs)("div",{className:"name-cases",children:[Object(L.jsx)("span",{className:"name",children:c.name}),Object(L.jsx)("span",{className:"cases",children:(+c.today_confirmed).toLocaleString()})]})]})})},I=t.p+"static/media/globe.2ad406e0.gif",B=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.covid19Data}));a=Array.isArray(a)?a:[];var t=Object(c.useState)(a),n=Object(C.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(""),l=Object(C.a)(i,2),d=l[0],j=l[1],b=Object(c.useState)(""),u=Object(C.a)(b,2),m=u[0],h=u[1],O=a.reduce((function(e,a){return e+a.today_confirmed}),0),x=!0,g=!1;return Object(c.useEffect)((function(){r((function(){return a}))}),[]),Object(L.jsxs)("div",{className:"home-container",children:[Object(L.jsx)("h1",{className:"home-heading",children:"Worldwide Cases"}),Object(L.jsx)("h1",{className:"home-heading h-heading",children:a[0]&&new Date(a[0].date).toDateString()}),Object(L.jsx)("div",{className:"globe-icon-container",children:Object(L.jsx)("img",{className:"globe",src:I,alt:"Globe"})}),Object(L.jsxs)("div",{className:"world-wide",children:[Object(L.jsx)("span",{className:"cases name",children:"All Countries"}),Object(L.jsx)("span",{className:"cases",children:"Total"}),Object(L.jsx)("span",{children:O.toLocaleString()})]}),Object(L.jsxs)("div",{className:"sticky-inputs",children:[Object(L.jsxs)("div",{className:"search-container",children:[Object(L.jsx)("span",{className:"search-text",children:"Get Data By Date:"}),Object(L.jsx)("input",{value:m,min:"2020-02-01",max:(new Date).toLocaleDateString().split("/").reverse().join("-"),onChange:function(a){var t=a.target.value,c=!0,n=new Date("2020-02-01").getTime(),s=new Date(t).getTime(),r=(new Date).getTime();(s<n||s>r)&&(c=!1),c?(e(y(t)),h((function(){return t}))):h((function(){return t}))},className:"search-field",placeholder:"Search",type:"date"})]}),Object(L.jsxs)("div",{className:"search-container search-down",children:[Object(L.jsx)("span",{className:"search-text",children:"STATS BY COUNTRY"}),Object(L.jsx)("input",{id:"country-search",className:"search-field",placeholder:"Search",onChange:function(e){j((function(){return function(e){var t=Object(D.a)(a).filter((function(a){return a.name.toLowerCase().includes(e.toLowerCase())}));t=0===t.length?[!1]:t,r((function(){return t}))}(e.target.value),e.target.value}))},value:d,type:"text"})]})]}),(0===s.length?a:s).map((function(e,a){if(!1===e)return Object(L.jsx)("div",{className:"no-match",children:"No match found"},Math.random());if(a%2===0&&x){x=!x;return Object(L.jsx)(R,{className:"home-country-card gray1",date:e.date,id:e.id},Object(T.a)())}if(a%2===0&&!x){x=!x;return Object(L.jsx)(R,{className:"home-country-card gray2",date:e.date,id:e.id},Object(T.a)())}if(a%2===1&&!g){g=!g;return Object(L.jsx)(R,{className:"home-country-card gray2",date:e.date,id:e.id},Object(T.a)())}if(a%2===1&&g){g=!g;return Object(L.jsx)(R,{className:"home-country-card gray1",date:e.date,id:e.id},Object(T.a)())}return!1})),Object(L.jsxs)("div",{className:"source",children:["Source:"," ",a[0]&&a[0].source]})]})},F=function(e){var a=e.param,t=e.value;return Object(L.jsxs)("tr",{className:"table-row",children:[Object(L.jsx)("td",{children:a}),Object(L.jsx)("td",{children:t.toLocaleString()})]})},J=function(){var e,a,t,c=Object(S.g)();if(c.data)e=c.data.id,a=c.data.date,t=c.flag,localStorage.setItem("idState",JSON.stringify([e,a,t]));else{var n=JSON.parse(localStorage.getItem("idState")),s=Object(C.a)(n,3),r=s[0],l=s[1],d=s[2];e=r,a=l,t=d}var j=Object(o.c)((function(e){return e.covid19Data})),b=(j=Array.isArray(j)?j:[]).filter((function(a){return a.id===e}))[0],u=(b||{rogions:[]}).regions;return Object(L.jsxs)("div",{className:"country-container",children:[Object(L.jsx)("h1",{className:"country-header",children:"Country Cases"}),Object(L.jsx)("h1",{className:"country-header h-heading",children:new Date(a).toDateString()}),Object(L.jsxs)("div",{className:"world-wide-country",children:[Object(L.jsx)("div",{className:"globe-icon-container",children:Object(L.jsx)("img",{className:"country-image",src:t,alt:"national flag"})}),Object(L.jsxs)("div",{className:"world-wide",children:[Object(L.jsx)("span",{className:"cases name",children:b&&b.name}),Object(L.jsx)("span",{className:"cases",children:"Total"}),Object(L.jsx)("span",{children:b&&b.today_confirmed.toLocaleString()})]})]}),Object(L.jsx)("span",{className:"break-down",children:"Country Data Breakdown"}),Object(L.jsx)("table",{className:"country-table",children:b&&Object(L.jsxs)("tbody",{className:"coutry-tbody",children:[Object(L.jsx)(F,{param:"Cases Today",value:b.today_new_confirmed}),Object(L.jsx)(F,{param:"Total Deaths",value:b.today_deaths}),Object(L.jsx)(F,{param:"Deaths Today",value:b.today_new_deaths}),Object(L.jsx)(F,{param:"Open Cases",value:b.today_open_cases}),Object(L.jsx)(F,{param:"Total Recovery",value:b.today_recovered}),Object(L.jsx)(F,{param:"Recovery Today",value:b.today_new_recovered})]})}),Object(L.jsx)("span",{className:"break-down",children:"Data By Region"}),Object(L.jsx)("div",{className:"regions-container",children:u?u.sort((function(e,a){return e.name>a.name?1:a.name>e.name?-1:0})).map((function(e){return Object(L.jsx)(i.b,{to:{pathname:"/region/".concat(b.name.toLowerCase().split(" ").join(""),"/").concat(e.name.toLowerCase().split(" ").join("")),data:e,country:b.name.toLowerCase().split(" ").join(""),flag:t},className:"region-data-container-link",exact:!0,children:Object(L.jsxs)("div",{className:"region-data-container",children:[Object(L.jsx)("p",{className:"region-name",children:e.name}),Object(L.jsxs)("div",{className:"inner-region-container",children:[Object(L.jsx)("p",{className:"region-case",children:e.today_confirmed.toLocaleString()}),Object(L.jsx)("span",{className:"arrow",children:Object(L.jsx)(k.b,{className:"fa-arrow"})})]})]})},Object(T.a)())})):null}),u&&!u[0]&&Object(L.jsx)("div",{className:"not-available",children:u&&!u[0]&&"Regional Data Unavailable"}),Object(L.jsxs)("div",{className:"source",children:["Source:"," ",b&&b.source]})]})},E=function(){var e,a,t,c=Object(S.g)();c.data?(e=c.data,a=c.country,t=c.flag,localStorage.setItem("regionData",JSON.stringify({data:e,country:a,flag:t}))):(c=JSON.parse(localStorage.getItem("regionData")),e=c.data,a=c.country,t=c.flag);var n=e.sub_regions;return Object(L.jsxs)("div",{className:"region-container",children:[Object(L.jsx)("h1",{className:"country-header",children:"Regional Cases"}),Object(L.jsx)("h1",{className:"country-header h-heading",children:new Date(e.date).toDateString()}),Object(L.jsxs)("div",{className:"world-wide-country",children:[Object(L.jsx)("div",{className:"globe-icon-container",children:Object(L.jsx)("img",{className:"country-image",src:t,alt:"national flag"})}),Object(L.jsxs)("div",{className:"world-wide",children:[Object(L.jsx)("span",{className:"cases name",children:e&&e.name}),Object(L.jsx)("span",{className:"cases",children:"Total"}),Object(L.jsx)("span",{children:e&&e.today_confirmed.toLocaleString()})]})]}),Object(L.jsx)("span",{className:"break-down",children:"Regional Data Breakdown"}),Object(L.jsx)("table",{className:"country-table",children:e&&Object(L.jsxs)("tbody",{className:"coutry-tbody",children:[Object(L.jsx)(F,{param:"Cases Today",value:e.today_new_confirmed?e.today_new_confirmed:"N/A"}),Object(L.jsx)(F,{param:"Total Deaths",value:e.today_deaths?e.today_deaths:"N/A"}),Object(L.jsx)(F,{param:"Deaths Today",value:e.today_new_deaths?e.today_new_deaths:"N/A"}),Object(L.jsx)(F,{param:"Open Cases",value:e.today_open_cases?e.today_open_cases:"N/A"}),Object(L.jsx)(F,{param:"Total Recovery",value:e.today_recovered?e.today_recovered:"N/A"}),Object(L.jsx)(F,{param:"Recovery Today",value:e.today_new_recovered?e.today_new_recovered:"N/A"})]})}),Object(L.jsx)("span",{className:"break-down",children:"Data By Sub-Region"}),Object(L.jsx)("div",{className:"regions-container",children:n?n.sort((function(e,a){return e.name>a.name?1:a.name>e.name?-1:0})).map((function(c){return Object(L.jsx)(i.b,{to:{pathname:"/subregion/".concat(a,"/").concat(e.name.toLowerCase().split(" ").join(""),"/").concat(c.name.toLowerCase().split(" ").join("")),data:c,flag:t},className:"region-data-container-link",exact:!0,children:Object(L.jsxs)("div",{className:"region-data-container",children:[Object(L.jsx)("p",{className:"region-name",children:c.name}),Object(L.jsxs)("div",{className:"inner-region-container",children:[Object(L.jsx)("p",{className:"region-case",children:c.today_confirmed.toLocaleString()}),Object(L.jsx)("span",{className:"arrow",children:Object(L.jsx)(k.b,{className:"fa-arrow"})})]})]})},Object(T.a)())})):null})]})},U=function(){var e,a,t,c=Object(S.g)();return c.data?(e=c.data,a=c.country,t=c.flag,localStorage.setItem("subRegionData",JSON.stringify({data:e,country:a,flag:t}))):(e=(c=JSON.parse(localStorage.getItem("subRegionData"))).data,a=c.country,t=c.flag),Object(L.jsxs)("div",{className:"sub-region-container",children:[Object(L.jsx)("h1",{className:"country-header",children:"Sub-Regional Cases"}),Object(L.jsx)("h1",{className:"country-header h-heading",children:new Date(e.date).toDateString()}),Object(L.jsxs)("div",{className:"world-wide-country",children:[Object(L.jsx)("div",{className:"globe-icon-container",children:Object(L.jsx)("img",{className:"country-image",src:t,alt:"national flag"})}),Object(L.jsxs)("div",{className:"world-wide",children:[Object(L.jsx)("span",{className:"cases name",children:e&&e.name}),Object(L.jsx)("span",{className:"cases",children:"Total"}),Object(L.jsx)("span",{children:e&&e.today_confirmed.toLocaleString()})]})]}),Object(L.jsx)("span",{className:"break-down",children:"Sub-Regional Data Breakdown"}),Object(L.jsx)("table",{className:"country-table",children:e&&Object(L.jsxs)("tbody",{className:"coutry-tbody",children:[Object(L.jsx)(F,{param:"Cases Today",value:e.today_new_confirmed?e.today_new_confirmed:"N/A"}),Object(L.jsx)(F,{param:"Total Deaths",value:e.today_deaths?e.today_deaths:"N/A"}),Object(L.jsx)(F,{param:"Deaths Today",value:e.today_new_deaths?e.today_new_deaths:"N/A"}),Object(L.jsx)(F,{param:"Open Cases",value:e.today_open_cases?e.today_open_cases:"N/A"}),Object(L.jsx)(F,{param:"Total Recovery",value:e.today_recovered?e.today_recovered:"N/A"}),Object(L.jsx)(F,{param:"Recovery Today",value:e.today_new_recovered?e.today_new_recovered:"N/A"})]})})]})},M=function(){return Object(L.jsx)("div",{children:"Page not found!"})},Y=function(){return Object(L.jsx)("footer",{className:"footer",children:Object(L.jsx)("p",{className:"footer-text",children:"Created with \ud83d\udc96 by Henry Kc at Microverse Inc., US."})})},G=t(23),H=function(){var e=Object(o.c)((function(e){return e.covid19Data})),a=Object(S.f)();return Object(L.jsxs)("div",{className:"navbar",children:[Object(L.jsxs)("div",{className:"left",children:[Object(L.jsx)("span",{className:"back",children:Object(L.jsx)(k.a,{onClick:function(){return a.goBack()}})}),Object(L.jsx)("span",{className:"year",children:e[0]&&e[0].date.split("-")[0]})]}),Object(L.jsx)("span",{className:"middle",children:"Coronavirus App"}),Object(L.jsxs)("div",{className:"right",children:[Object(L.jsx)("span",{className:"mic",children:Object(L.jsx)(G.b,{})}),Object(L.jsx)("span",{className:"settings",children:Object(L.jsx)(G.a,{})}),Object(L.jsx)("span",{className:"back",children:Object(L.jsx)(k.b,{onClick:function(){return a.goForward()}})})]})]})},z=function(){return Object(L.jsx)("header",{className:"header",children:Object(L.jsx)(H,{})})},q=function(){var e=Object(o.b)();return Object(c.useEffect)((function(){e(y()),e(function(){var e=Object(h.a)(m.a.mark((function e(a){var t,c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,fetch("https://corona.lmao.ninja/v2/countries");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,n=c.sort().map((function(e){return{country:e.country,flagURL:e.countryInfo.flag}})),a({type:p,payload:n});case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}),[]),Object(L.jsxs)("div",{className:"main",children:[Object(L.jsxs)("section",{children:[Object(L.jsx)(z,{}),Object(L.jsxs)(S.c,{children:[Object(L.jsx)(S.a,{exact:!0,path:"/",children:Object(L.jsx)(B,{})}),Object(L.jsx)(S.a,{path:"/country/:name",children:Object(L.jsx)(J,{})}),Object(L.jsx)(S.a,{path:"/region/:country/:region",children:Object(L.jsx)(E,{})}),Object(L.jsx)(S.a,{path:"/subregion/:nation/:region/:subregion",children:Object(L.jsx)(U,{})}),Object(L.jsx)(S.a,{path:"*",children:Object(L.jsx)(M,{})})]})]}),Object(L.jsx)("section",{children:Object(L.jsx)(Y,{})})]})};t(45);r.a.render(Object(L.jsx)(n.a.StrictMode,{children:Object(L.jsx)(i.a,{basename:"/covid19-info-finder",children:Object(L.jsx)(o.a,{store:_,children:Object(L.jsx)(q,{})})})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.17b184d2.chunk.js.map